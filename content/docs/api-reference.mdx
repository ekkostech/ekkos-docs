---
title: API Reference
description: REST API endpoints for ekkOS
---

# API Reference

ekkOS exposes REST endpoints for direct integration. Most users interact through the MCP tools, but direct API access is available.

## Base URL

```
https://mcp.ekkos.dev
```

## Authentication

All requests require a Bearer token:

```bash
curl -H "Authorization: Bearer ekk_your_api_key" \
  https://mcp.ekkos.dev/api/v1/health
```

Get your API key from [platform.ekkos.dev](https://platform.ekkos.dev/dashboard/settings/api-keys).

---

## Health Check

### GET /api/v1/health

Check API availability.

```bash
curl https://mcp.ekkos.dev/api/v1/health
```

**Response:**
```json
{
  "status": "ok",
  "healthy": true
}
```

---

## MCP Endpoints

These endpoints power the MCP server.

### GET /api/v1/mcp/tools

List all available MCP tools.

```bash
curl https://mcp.ekkos.dev/api/v1/mcp/tools \
  -H "Authorization: Bearer ekk_your_api_key"
```

**Response:** Array of 29 tool definitions with names, descriptions, and input schemas.

---

### POST /api/v1/mcp/call

Execute an MCP tool.

```bash
curl -X POST https://mcp.ekkos.dev/api/v1/mcp/call \
  -H "Authorization: Bearer ekk_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "tool": "ekkOS_Search",
    "arguments": {
      "query": "authentication patterns"
    }
  }'
```

**Response:** Tool execution result.

---

## Pattern Endpoints

### POST /api/v1/patterns

Create a new pattern.

```bash
curl -X POST https://mcp.ekkos.dev/api/v1/patterns \
  -H "Authorization: Bearer ekk_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Fix CORS errors",
    "problem": "CORS errors when calling API from frontend",
    "solution": "Add Access-Control-Allow-Origin header to backend",
    "tags": ["cors", "api", "frontend"]
  }'
```

**Response:**
```json
{
  "pattern_id": "pat_abc123",
  "status": "active",
  "created_at": "2025-01-15T10:30:00Z"
}
```

---

### POST /api/v1/patterns/query

Search patterns.

```bash
curl -X POST https://mcp.ekkos.dev/api/v1/patterns/query \
  -H "Authorization: Bearer ekk_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "authentication",
    "k": 5
  }'
```

**Response:** Array of matching patterns with relevance scores.

---

## Memory Endpoints

### POST /api/v1/memory/search

Search across all memory layers.

```bash
curl -X POST https://mcp.ekkos.dev/api/v1/memory/search \
  -H "Authorization: Bearer ekk_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "database schema",
    "sources": ["patterns", "episodic"],
    "limit": 10
  }'
```

---

### POST /api/v1/memory/capture

Capture an event to memory.

```bash
curl -X POST https://mcp.ekkos.dev/api/v1/memory/capture \
  -H "Authorization: Bearer ekk_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "type": "code_change",
    "content": "Refactored auth module",
    "metadata": {
      "file": "auth.ts"
    }
  }'
```

---

## Directive Endpoints

### POST /api/v1/memory/directives

Create a directive.

```bash
curl -X POST https://mcp.ekkos.dev/api/v1/memory/directives \
  -H "Authorization: Bearer ekk_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "type": "NEVER",
    "rule": "Use var in TypeScript",
    "scope": "global"
  }'
```

---

## Rate Limits

| Tier | Requests/Day | Burst/Min |
|------|-------------|-----------|
| Free | 100 | 10 |
| Pro | 10,000 | 100 |
| Team | Unlimited | 1,000 |

Rate limit headers included in responses:
- `X-RateLimit-Remaining`
- `X-RateLimit-Reset`

---

## Error Responses

```json
{
  "error": "UNAUTHORIZED",
  "message": "Invalid or missing API key"
}
```

| Code | Meaning |
|------|---------|
| 400 | Invalid request parameters |
| 401 | Missing or invalid API key |
| 429 | Rate limit exceeded |
| 500 | Server error |

---

## Next Steps

- [Tools Reference](/docs/tools-reference) - All 29 MCP tools explained
- [Setup Guide](/docs/mcp-integration) - Configuration options
- [Getting Started](/docs) - Quick start guide
